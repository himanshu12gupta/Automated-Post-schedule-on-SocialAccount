<!DOCTYPE html>
<html>
<head>
  <%= stylesheet_link_tag 'handler_page' %>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</head>
<body>
  <div class="login-container">
    <h1>Social Media Scheduler</h1>
    <%= form_with(model: @handler, local: true) do |f| %>
      <!-- Profile Picture Upload -->
      <div class="form-group">
        <%= f.label :image, "Upload Pictures" %>
        <%= f.file_field :image, accept: 'image/*', required: true %>
      </div>

      <!-- Image Description Input -->
      <div class="form-group">
        <%= f.label :text, "Post Content" %>
        <%= f.text_area :text, rows: 4, placeholder: "Describe your image", required: true %>
      </div>

      <!-- Date Input -->
      <div class="form-group">
        <%= f.label :time %>
        <%= f.datetime_local_field :time, required: true %>
      </div>

      <!-- Social Media Dropdown -->
      <div class="form-group">
          <%= f.label :social_account_ids, "Social Media" %>
          <%= f.collection_select :social_account_ids, @social_accounts, :id, :platform, { include_blank: 'Select Social Accounts' }, { multiple: true, class: 'form-control' } %>
        </div>

          <!-- Submit Button -->
          <div class="handler-btn">
            <%= f.submit 'Submit' %>
          </div>
        <% end %>
      </div>

  <!-- Modal -->
  <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalLabel">Description</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Use the field below to enter additional information or instructions related to the social media dropdown:</p>
          <form id="descriptionForm">
            <div class="form-group">
              <textarea class="form-control" id="descriptionText" rows="4" placeholder="Enter your description here"></textarea>
            </div>
            <button type="button" class="btn btn-primary" id="saveDescription">Save</button>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
